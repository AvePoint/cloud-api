<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Retrieve Audit Records </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Retrieve Audit Records ">
      
      
      <link rel="icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="../../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="retrieve-audit-records">Retrieve Audit Records</h1>

<p>Use this API to retrieve audit records (<code>/aos/audit</code> navigation property) for activities within your AOS tenant. This article outlines the necessary permissions, available methods, and models used for interacting with the API.</p>
<h2 id="permission">Permission</h2>
<p>The following permission is required to call this API.</p>
<p>You must register an app through AvePoint Online Services &gt; App registrations to authenticate and authorize your access to AvePoint Graph API. For details, refer to <a href="https://learn.avepoint.com/docs/Use-AvePoint-Graph-API.html#authentication-and-authorization">Authentication and Authorization</a>.</p>
<table>
<thead>
<tr>
<th>API</th>
<th>Permission</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/aos/audit</code></td>
<td>audit.read.all</td>
</tr>
</tbody>
</table>
<h2 id="request">Request</h2>
<p>This section outlines the HTTP method and endpoint that is used to retrieve the audit records.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td><code>/aos/audit</code></td>
<td>Retrieves user activities in your AvePoint Online Services tenant within a time range.</td>
</tr>
</tbody>
</table>
<h2 id="query-parameters">Query Parameters</h2>
<p>The API supports the following query parameters to refine and customize the data retrieval process. These parameters allow users to specify time ranges, product types, geo locations and other criteria to filter the results effectively.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>startTime</td>
<td>Sets a start time for the time range in ISO 8601 format.</td>
<td>string</td>
<td>Yes</td>
</tr>
<tr>
<td>endTime</td>
<td>Sets an end time for the time range in ISO 8601 format. The time range between StartTime and EndTime must be no more than 7 days.</td>
<td>string</td>
<td>Yes</td>
</tr>
<tr>
<td>productTypes</td>
<td>If no value is set for this parameter, this method retrieves the audit records for all products in your AOS tenant. To get audit records from specific products, use the following values:     <ul><li><strong>Office365Management</strong> (Cloud Management)</li> <li><strong>Office365Backup</strong> (Cloud Backup for Microsoft 365)</li> <li><strong>GovernanceAutomation</strong> (Cloud Governance)</li> <li><strong>Portal</strong> (AvePoint Online Services)</li> <li><strong>PolicyEnforcer</strong> (Policies for Microsoft 365)</li> <li><strong>CPManagement</strong> (Insights)</li> <li><strong>SMP</strong> (EnPower)</li> <li><strong>VDR</strong> (Confide)</li> <li><strong>AvePointRecords</strong> (Opus)</li> <li><strong>GsuiteBackup</strong> (Cloud Backup for Google Workspace)</li><li><strong>CRMBackup</strong> (Cloud Backup for Dynamics 365)</li></ul></td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>geoLocations</td>
<td>This parameter is only available for AOS tenants that support Multi-Geo. If no value is set for this parameter, this method retrieves the audit records from all locations in your AOS tenant. To get audit records from specific data centers, use the following values: <ul><li><strong>PrimaryGeoLocation</strong> (Central AOS location)</li> <li><strong>NAM</strong> (North America)</li> <li><strong>EUR</strong> (Europe/Middle East/Africa)</li> <li><strong>GBR</strong> (United Kingdom)</li> <li><strong>JPN</strong> (Japan)</li> <li><strong>APC</strong> (Asia-Pacific)</li> <li><strong>AUS</strong> (Australia)</li> <li><strong>CAN</strong> (Canada)</li> <li><strong>IND</strong> (India)</li> <li><strong>FRA</strong> (France)</li>    <li><strong>ARE</strong> (United Arab Emirates)</li> <li><strong>ZAF</strong> (South Africa)</li> <li><strong>CHE</strong> (Switzerland)</li> <li><strong>KOR</strong> (Korea)</li> <li><strong>DEU</strong> (Germany)</li> <li><strong>BRA</strong> (Brazil)</li> <li><strong>NOR</strong> (Norway)</li> <li><strong>SWE</strong> (Sweden)</li> <li><strong>QAT</strong> (Qatar)</li> <li><strong>POL</strong> (Poland)</li> <li><strong>ITA</strong> (Italy)</li> <li><strong>ISR</strong> (Israel)</li> <li><strong>MEX</strong> (Mexico)</li> <li><strong>NZL</strong> (New Zealand)</li> <li><strong>ESP</strong> (Spain)</li> <li><strong>TWN</strong> (Taiwan)</li></ul></td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>skipToken</td>
<td>During a query, if the results are too large to be returned in a single response, a <strong>skipToken</strong> is included in the response. This token allows you to retrieve the next set of results by appending it into the query URL in a subsequent request.</td>
<td>string</td>
<td>No</td>
</tr>
</tbody>
</table>
<h2 id="response">Response</h2>
<p>The API response provides detailed information about the audit records retrieved.</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>If successful, the method returns this code.</td>
<td><a href="#apiresultofuseractivitymodel">ApiResultOfUserActivityModel</a></td>
</tr>
<tr>
<td>400</td>
<td>If an error occurs, the method returns this code.</td>
<td><a href="#errorresponse">ErrorResponse</a></td>
</tr>
</tbody>
</table>
<h3 id="response-models">Response Models</h3>
<p>The following sections describe the response models to get audit records.</p>
<h4 id="apiresultofuseractivitymodel">ApiResultOfUserActivityModel</h4>
<p>This model is returned upon successful retrieval of audit records.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>nextLink</td>
<td>If multiple query requests are required to retrieve all the results, the response returns the <strong>nextLink</strong> property, and the <strong>nextLink</strong> value is a URL to the next page of results. You can retrieve the next page of results by sending the URL value of the <strong>nextLink</strong> property.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>data</td>
<td>The query parameters in the response of getting audit records.</td>
<td><a href="#useractivityauditlogitemmodel">UserActivityAuditLogItemModel</a></td>
<td>No</td>
</tr>
</tbody>
</table>
<h4 id="useractivityauditlogitemmodel">UserActivityAuditLogItemModel</h4>
<p>If successful, the following objects are displayed in the response body.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>actionName</td>
<td>Name of the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>actionUser</td>
<td>User of the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>actionParameters</td>
<td>Parameters in the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>actionTime</td>
<td>Time of the action in ISO 8601 format.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>controllerName</td>
<td>Controller in the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>product</td>
<td>Name of product. Valid values:     <ul><li><strong>Cloud Management</strong></li> <li><strong>Cloud Backup for Microsoft 365</strong></li> <li><strong>Cloud Governance</strong></li> <li><strong>AvePoint Online Services</strong></li> <li><strong>Policies for Microsoft 365</strong></li> <li><strong>Insights</strong></li> <li><strong>EnPower</strong></li> <li><strong>Confide</strong></li> <li><strong>Opus</strong></li> <li><strong>Cloud Backup for Google Workspace</strong></li><li><strong>Cloud Backup for Dynamics 365</strong></li></ul></td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>geoLocation</td>
<td>Geo locations of a multi-geo tenant.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>previousValue</td>
<td>Previous value of the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>currentValue</td>
<td>Current value of the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>partnerTenantOwner</td>
<td>Tenant owner of the service provider managing the customer's AOS tenant.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>status</td>
<td>Status of the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>comment</td>
<td>Comment for the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>objectType</td>
<td>Type of the action object.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>operationType</td>
<td>Type of the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>module</td>
<td>Module of the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>functionality</td>
<td>Functionality related to the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>objectName</td>
<td>Name of the object related to the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>action</td>
<td>Name of the action. This parameter is only for Cloud Governance.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>clientIP</td>
<td>Public IP address for the action.</td>
<td>string</td>
<td>No</td>
</tr>
<tr>
<td>additionalDetails</td>
<td>Name of the action. This parameter is only for Confide.</td>
<td>object</td>
<td>No</td>
</tr>
</tbody>
</table>
<h4 id="errorresponse">ErrorResponse</h4>
<p>If an error occurs, the following information is displayed in the response body.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>traceId</td>
<td>The unique identifier used to trace and track the flow of a request.</td>
<td>string</td>
</tr>
<tr>
<td>error</td>
<td>The error message.</td>
<td>string</td>
</tr>
<tr>
<td>statusCode</td>
<td>The HTTP error code.</td>
<td><a href="https://learn.avepoint.com/docs/Use-AvePoint-Graph-API.html#http-status-code">HttpStatusCode</a></td>
</tr>
</tbody>
</table>
<h2 id="request-sample">Request Sample</h2>
<p>The following request is an API call to the AvePoint Online Services (AOS) environment in the US - East region. The API method being used is <code>/aos/audit</code>. This request is designed to fetch a specific set of audit logs from the AOS portal, within a defined timeframe, and limited to a particular geographical location.</p>
<pre><code class="lang-json">https://graph-us.avepointonlineservices.com/aos/audit?startTime=2024-10-10T08:00:00Z&amp;endTime=2024-10-14T17:00:00Z&amp;productTypes=Portal&amp;geoLocations=NAM
</code></pre>
<h2 id="response-sample">Response Sample</h2>
<p>If successful, this method returns a 200 OK response code and a collection of user activities in the response body.</p>
<pre><code class="lang-json">{
    &quot;nextLink&quot;: null, // No results in the next page
    &quot;data&quot;: [
        {
            &quot;actionName&quot;: &quot;Session Timeout&quot;, // Name of the action
            &quot;actionUser&quot;: &quot;dev@test.onmicrosoft.com&quot;, // User of the action
            &quot;actionParameters&quot;: &quot;null&quot;, // No parameters in the action
            &quot;actionTime&quot;: &quot;2024-10-14T07:41:50Z&quot;, // Time of the action
            &quot;controllerName&quot;: &quot;AccountController&quot;, // No controller in the action
            &quot;product&quot;: &quot;AvePoint Online Services&quot;, // Name of product
            &quot;geoLocation&quot;: null, // Not a multi-geo tenant
            &quot;previousValue&quot;: null, // No previous value of the action
            &quot;currentValue&quot;: null, // No current value of the action
            &quot;partnerTenantOwner&quot;: null, // Not a customer managed by service providers
            &quot;status&quot;: null, // Status of the action
            &quot;comment&quot;: null, // No comment for the action
            &quot;objectType&quot;: null, // Type of the action object
            &quot;operationType&quot;: null, // No action type
            &quot;module&quot;: null, // Module of the action
            &quot;functionality&quot;: null, // No functionality related to the action
            &quot;objectName&quot;: null, // No object related to the action
            &quot;action&quot;: null, // Parameter for Cloud Governance only
            &quot;clientIP&quot;: &quot;123.123.12.123&quot;, // Public IP address for the action
            &quot;additionalDetails&quot;: {} // Parameter for Confide only
        }
    ]
}
</code></pre>

</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Copyright © 2025 AvePoint® Inc. All Rights Reserved.<br>Generated with <strong>AvePoint, Inc.</strong></span>
        </div>
      </div>
    </footer>
  </body>
</html>
